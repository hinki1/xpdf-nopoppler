Description: fixes for differences in poppler's cmap
origin: gentoo's xpdf-poppler 0.12 patches (http://bugs.gentoo.org/289803)
Index: xpdf/xpdf/GlobalParams.cc
===================================================================
--- xpdf.orig/xpdf/GlobalParams.cc	2011-09-01 21:46:12.000000000 -0400
+++ xpdf/xpdf/GlobalParams.cc	2011-09-01 21:46:33.000000000 -0400
@@ -2714,11 +2714,11 @@
   return map;
 }
 
-CMap *GlobalParams::getCMap(GString *collection, GString *cMapName) {
+CMap *GlobalParams::getCMap(GString *collection, GString *cMapName, Stream *stream) {
   CMap *cMap;
 
   lockCMapCache;
-  cMap = cMapCache->getCMap(collection, cMapName);
+  cMap = cMapCache->getCMap(collection, cMapName, stream);
   unlockCMapCache;
   return cMap;
 }
Index: xpdf/xpdf/GlobalParams.h
===================================================================
--- xpdf.orig/xpdf/GlobalParams.h	2011-09-01 21:46:12.000000000 -0400
+++ xpdf/xpdf/GlobalParams.h	2011-09-01 21:46:43.000000000 -0400
@@ -18,6 +18,7 @@
 #include <stdio.h>
 #include "gtypes.h"
 #include "CharTypes.h"
+#include "config.h"
 
 #if MULTITHREADED
 #include "GMutex.h"
@@ -36,6 +37,7 @@
 struct XpdfSecurityHandler;
 class GlobalParams;
 class SysFontList;
+class Stream;
 
 //------------------------------------------------------------------------
 
@@ -256,7 +258,7 @@
   CharCodeToUnicode *getCIDToUnicode(GString *collection);
   CharCodeToUnicode *getUnicodeToUnicode(GString *fontName);
   UnicodeMap *getUnicodeMap(GString *encodingName);
-  CMap *getCMap(GString *collection, GString *cMapName);
+  CMap *getCMap(GString *collection, GString *cMapName, Stream *stream);
   UnicodeMap *getTextEncoding();
 
   //----- functions to set parameters
